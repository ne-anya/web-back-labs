{% extends "base.html" %}

{% block lab %}–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 5{% endblock %}
{% block main %}

    <h1>–°—Ç–∞—Ç—å–∏</h1>

    <div style="margin-bottom: 20px;">
        <a href="/lab5">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
        <a href="/lab5/logout">–í—ã–π—Ç–∏</a>
    </div>
    
    {% if articles %}
        {% for article in articles %}
            <div class="article" style="margin-bottom: 30px; padding: 20px; border: 1px solid #ddd; border-radius: 5px; background-color: #fff;">
                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px;">
                    <div>
                        <h2 style="margin: 0 0 5px 0; color: #333;">{{ article['title'] }}</h2>
                        <div style="display: flex; gap: 10px; font-size: 14px;">
                            {% if article['is_public'] %}
                                <span style="background-color: #28a745; color: white; padding: 3px 8px; border-radius: 12px;">
                                    üåê –ü—É–±–ª–∏—á–Ω–∞—è
                                </span>
                            {% else %}
                                <span style="background-color: #6c757d; color: white; padding: 3px 8px; border-radius: 12px;">
                                    üîí –ü—Ä–∏–≤–∞—Ç–Ω–∞—è
                                </span>
                            {% endif %}
                
                            {% if article['is_favorite'] %}
                                <span style="background-color: #ffc107; color: black; padding: 3px 8px; border-radius: 12px;">
                                    ‚òÖ –ò–∑–±—Ä–∞–Ω–Ω–∞—è
                                </span>
                            {% endif %}
                        </div>
                    </div>
                    <div>
                        <a href="/lab5/edit/{{ article['id'] }}" class="edit-btn">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                        <a href="/lab5/delete/{{ article['id'] }}" class="delete-btn" 
                            onclick="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É —Å—Ç–∞—Ç—å—é?')">–£–¥–∞–ª–∏—Ç—å</a>
                    </div>
                </div>
                <blockquote style="background: #f9f9f9; padding: 15px; border-left: 4px solid #ccc; margin: 0; white-space: pre-line;">
                    {{ article['article_text'] }}
                </blockquote>
            </div>
        {% endfor %}
    {% else %}
        <div class="no-articles" style="text-align: center; margin: 40px 0; color: #666;">
            <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–π —Å—Ç–∞—Ç—å–∏.</p>
            <p><a href="/lab5/create">–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ—é –ø–µ—Ä–≤—É—é —Å—Ç–∞—Ç—å—é!</a></p>
        </div>
    {% endif %}
{% endblock %}